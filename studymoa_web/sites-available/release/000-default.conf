# 홈페이지 및 api
<VirtualHost *:80>
	ServerName test.studymoa.me

	ServerAdmin wj@kit-works.com
	DocumentRoot /var/www/html
	LogFormat "%h [green] %v %T %U %q \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\" " 

	ErrorLog /dev/stderr
 	TransferLog /dev/stdout
	# ErrorLog ${APACHE_LOG_DIR}/error.log
	# CustomLog ${APACHE_LOG_DIR}/access.log combined

	ProxyPass /api http://green:4000/api
	ProxyPassReverse /api http://green:4000/api
</VirtualHost>

# 관리자
<VirtualHost *:80>
	ServerName testadmin.studymoa.me

	DocumentRoot /var/www/html/admin

	<Directory "/var/www/html/admin">
		RewriteEngine on
		RewriteCond %{REQUEST_FILENAME} -f [OR]
		RewriteCond %{REQUEST_FILENAME} -d
		RewriteRule ^ - [L]
		RewriteRule ^ index.html [L]
	</Directory>

	ProxyPass /api http://green:4000/api
	ProxyPassReverse /api http://green:4000/api

	ErrorLog /dev/stderr
	TransferLog /dev/stdout

	<FilesMatch "\.(cgi|shtml|phtml|php)$">
		SSLOptions +StdEnvVars
	</FilesMatch>
	<Directory /usr/lib/cgi-bin>
		SSLOptions +StdEnvVars
	</Directory>
</VirtualHost>

# api 서버
<VirtualHost *:80>
	ServerName testapi.studymoa.me

	ServerAdmin wj@kit-works.com
	DocumentRoot /var/www/html
	LogFormat "%h [green] %v %T %U %q \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\" " 

	ErrorLog /dev/stderr
 	TransferLog /dev/stdout

	ProxyPass /api http://green:4000/api
	ProxyPassReverse /api http://green:4000/api
</VirtualHost>
# # 홈페이지 및 api
# <VirtualHost *:80>
# 	ServerName studymoa.me

# 	ServerAdmin wj@kit-works.com
# 	DocumentRoot /var/www/html
# 	LogFormat "%h [green] %v %T %U %q \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\" " 

# 	ErrorLog /dev/stderr
#  	TransferLog /dev/stdout
# 	# ErrorLog ${APACHE_LOG_DIR}/error.log
# 	# CustomLog ${APACHE_LOG_DIR}/access.log combined

# 	ProxyPass /api http://green:4000/api
# 	ProxyPassReverse /api http://green:4000/api
# </VirtualHost>

# # 관리자
# <VirtualHost *:80>
# 	ServerName admin.studymoa.me

# 	DocumentRoot /var/www/html/admin

# 	<Directory "/var/www/html/admin">
# 		RewriteEngine on
# 		RewriteCond %{REQUEST_FILENAME} -f [OR]
# 		RewriteCond %{REQUEST_FILENAME} -d
# 		RewriteRule ^ - [L]
# 		RewriteRule ^ index.html [L]
# 	</Directory>

# 	ProxyPass /api http://green:4000/api
# 	ProxyPassReverse /api http://green:4000/api

# 	ErrorLog /dev/stderr
# 	TransferLog /dev/stdout

# 	<FilesMatch "\.(cgi|shtml|phtml|php)$">
# 		SSLOptions +StdEnvVars
# 	</FilesMatch>
# 	<Directory /usr/lib/cgi-bin>
# 		SSLOptions +StdEnvVars
# 	</Directory>
# </VirtualHost>

# # api 서버
# <VirtualHost *:80>
# 	ServerName api.studymoa.me

# 	ServerAdmin wj@kit-works.com
# 	DocumentRoot /var/www/html
# 	LogFormat "%h [green] %v %T %U %q \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\" " 

# 	ErrorLog /dev/stderr
#  	TransferLog /dev/stdout

# 	ProxyPass /api http://green:4000/api
# 	ProxyPassReverse /api http://green:4000/api
# </VirtualHost>